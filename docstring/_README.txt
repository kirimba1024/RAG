[LLM: читай полностью перед правкой, обновляй при изменении логики]

ИСТОЧНИК ИСТИНЫ:
Исполняемый код является единственным авторитетным источником поведения системы.
Docstring — рабочая документация с промежуточными выводами; при расхождении приоритет у кода.

ФИЛОСОФИЯ:
- Минимализм ≠ низкое качество: простые механизмы, надёжные инварианты.
- Ошибки не «съедаем» — падаем явно; предсказуемый сбой лучше скрытой деградации.
- Документация — только «золотые факты» (golden nuggets): коротко, точно, без воды и быстро устаревающих деталей.
- Документация: избегаем конкретики которая устареет, без emoji в docstring.
- Код должен быть самодокументирующимся.
- Код без комментариев — docstring достаточно.
- Полные названия переменных, без сильных сокращений, без дублирования констант.
- Результат — компактный production-ready код без избыточной сложности.

РАЗМЕЩЕНИЕ ДОКУМЕНТАЦИИ:
- Любые docstrings для файлов должны находиться в папке docstring/, а НЕ в самом файле.
- Имя файла docstring: для file.py → docstring/file.txt
- Имя файла docstring для вложенных путей: для images/elasticsearch/Dockerfile → docstring/images-elasticsearch-Dockerfile.txt
- Docstrings в шапках файлов ухудшают анализ LLM — держи документацию отдельно.
- Файлы в docstring/ содержат полную документацию модуля без дублирования в код.

ПОДДЕРЖКА ДОКУМЕНТАЦИИ:
- Обновляй docstring при изменении логики; держи его компактным и актуальным.
- Используй только эти секции: НАЗВАНИЕ, SUMMARY, ВЫВОДЫ, АНТИПАТТЕРНЫ, ЗАМЕТКИ.
- При анализе файла всегда пробегайся по ключевым секциям и проверяй их актуальность.
- При ревизии проверяй соответствие коду: роли блоков, кэшируемость, параметры вызова модели, жизненный цикл истории.
- Регулярно вычищай лишнее и сомнительное.
- При обнаружении важного нетривиального вывода — немедленно добавляй в ВЫВОДЫ (gold nuggets).
- НАЗВАНИЕ — краткое осмысленное название модуля.
- SUMMARY — кратко и по сути файла (elevator pitch).
- ВЫВОДЫ — накапливай важные технические заключения, в которых уверен.
- АНТИПАТТЕРНЫ — как не делать.
- ЗАМЕТКИ — универсальный раздел для остального. Добавляй в заметки что поняли исторически.
- При перестроении не теряй важной информации и выводов.

СТРУКТУРА DOCSTRING ФАЙЛА:
```
[LLM: читай полностью перед правкой, обновляй при изменении логики]

@docstring/_README.txt

НАЗВАНИЕ:
<Краткое название модуля>

SUMMARY:
<Elevator pitch — что делает модуль>

ВЫВОДЫ:
- <Важные технические выводы>
- <Золотые факты о реализации>

АНТИПАТТЕРНЫ:
- <Как НЕ делать>

ЗАМЕТКИ:
- <Дополнительная информация>
```

